#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include "pico/stdlib.h"
#include "hardware/pio.h"
#include "hardware/clocks.h"
#include "hardware/adc.h"
#include "pico/bootrom.h"

//arquivo .pio
#include "pio_matrix.pio.h"

#define NUM_PIXELS 25

// Declaração da função desenhar_matriz
void desenhar_matriz(PIO pio, uint sm, const uint32_t *desenho);

// Função de animação com 5 frames (efeito de onda)
void animacao_1(PIO pio, uint sm, uint numero_atual) {
    
    const uint32_t numeros[10][NUM_PIXELS] = {
        {
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000
        },
        {
            0x00000000, 0x00000000, 0x0000FF00, 0x00000000, 0x00000000,
            0x00000000, 0x00000000, 0x0000FF00, 0x00000000, 0x00000000,
            0x00000000, 0x00000000, 0x0000FF00, 0x00000000, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x00000000, 0x00000000,
            0x00000000, 0x00000000, 0x0000FF00, 0x00000000, 0x00000000
        },
        {
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x00000000, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000
        },
        {
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000
        },
        {
            0x00000000, 0x0000FF00, 0x00000000, 0x00000000, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x00000000, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000
        },
        {
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x00000000, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000
        },
        {
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x00000000, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000
        },
        {
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x0000FF00, 0x00000000
        },
        {
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x00000000, 0x0000FF00, 0x00000000,
            0x00000000, 0x0000FF00, 0x0000FF00, 0x0000FF00, 0x00000000
        }

    };

         
    // Array de frames
    //const uint32_t *frames[9] = {frame1, frame2, frame3, frame4, frame5, frame6, frame7, frame8, frame9};

    // Exibindo a animação
    for (int i = 0; i < 10; i++) {
        desenhar_matriz(pio, sm, numeros[numero_atual]); // Verde
    }

    
}